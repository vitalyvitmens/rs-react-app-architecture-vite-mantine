import{R as b,r as m,j as n,u as j,a as y,b as I}from"./index-usw2FdT_.js";import{C as f,B as T}from"./BtnMantine-DPW3HRpy.js";import{f as h,u as L}from"./Button-BR6OxEik.js";import{I as x}from"./InputBase-CJNrULFu.js";const v={},l=h((e,s)=>{const t=L("TextInput",v,e);return b.createElement(x,{component:"input",ref:s,...t,__staticSelector:"TextInput"})});l.classes=x.classes;l.displayName="@mantine/core/TextInput";const g=m.forwardRef(({label:e,variant:s,size:t,radius:o,description:r,placeholder:a,type:u,id:i,name:c,autoComplete:d,disabled:p},_)=>n.jsx(l,{label:e,description:r,placeholder:a,variant:s,size:t,radius:o,type:u,id:i,name:c,autoComplete:d,disabled:p,ref:_}));g.displayName="InputMantine";const E="_Login_1741a_1",N="_center_1741a_77",R={Login:E,center:N},C=()=>{var i;const e=j(),s=y(),t=I(),o=((i=s.state)==null?void 0:i.from)||"/",[r,a]=m.useTransition(),u=c=>{c.preventDefault();const p=new FormData(c.currentTarget).get("username");t.signin(p,()=>{a(()=>{})})};return m.useEffect(()=>{t.user!==null&&a(()=>{e(o,{replace:!0})})},[t.user,o,e,a]),n.jsxs("div",{className:R.Login,children:[n.jsxs("form",{onSubmit:u,children:[n.jsx(f,{component:g,style:{padding:"10px"},label:"USERNAME",type:"text",id:"text",name:"username",autoComplete:"name",placeholder:"Ваше имя",radius:5,size:30}),n.jsx(f,{component:T,style:{border:"1px solid black",marginTop:"42px"},title:"Login",disabled:r,type:"submit",variant:"filled",color:"teal"})]}),r&&n.jsx("div",{children:"Загрузка..."})]})};export{C as Login};
